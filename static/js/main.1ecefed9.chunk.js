(this.webpackJsonpapplication=this.webpackJsonpapplication||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/logo.559ba900.svg"},40:function(e,t,a){e.exports=a(73)},45:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a.n(o),i=(a(45),a(97)),l=a(94),u=a(95),s=a(91),d=a(32),m=a.n(d),p=a(93);function f(){return r.a.createElement(s.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",(new Date).getFullYear(),".")}var b=Object(p.a)((function(e){return{icon:{marginRight:e.spacing(2)},main:{minHeight:"calc(100vh - 70px)"},logo:{maxHeight:32,marginRight:e.spacing(2)},footer:{position:"fixed",bottom:0,width:"100vw",backgroundColor:e.palette.background.paper,padding:e.spacing(2,2)}}}));function h(e){var t=e.children,a=b();return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null),r.a.createElement(i.a,{position:"relative"},r.a.createElement(u.a,null,r.a.createElement("img",{src:m.a,alt:"WRM Logo",className:a.logo}),r.a.createElement(s.a,{variant:"h6",color:"inherit",noWrap:!0},"WRM Network"))),r.a.createElement("main",{className:a.main},t),r.a.createElement("footer",{className:a.footer},r.a.createElement(s.a,{variant:"h6",align:"center",gutterBottom:!0},"Footer"),r.a.createElement(f,null)))}var g=a(20),v=a(3),y=a(96),j=a(34),E=a.n(j),O=a(21),w=a.n(O),x=a(35),k=a(11),C=a(36),S=a.n(C),T=function(e,t){switch(t.type){case"FETCH_INIT":return Object(k.a)(Object(k.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"FETCH_FAILURE":return Object(k.a)(Object(k.a)({},e),{},{isLoading:!1,isError:!0});default:throw new Error}},M=function(e,t){var a=Object(n.useState)(e),r=Object(v.a)(a,2),o=r[0],c=r[1],i=Object(n.useReducer)(T,{isLoading:!1,isError:!1,data:t}),l=Object(v.a)(i,2),u=l[0],s=l[1];return Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(x.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"FETCH_INIT"}),t.prev=1,t.next=4,S()(o);case 4:a=t.sent,e||s({type:"FETCH_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||s({type:"FETCH_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[o]),[u,c]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.map((function(e){return e.lat})),a=e.map((function(e){return e.lng})),n=e.map((function(e){return e.id})),r=e.map((function(e){return e.name}));return[{type:"scattermapbox",lat:t,lon:a,ids:n,mode:"markers",marker:{size:14,color:"blue"},hoverinfo:"text",text:r}]},H=function(){var e=M("nodes_list.json",{}),t=Object(v.a)(e,2),a=t[0],n=a.data,r=a.isLoading,o=a.isError,c=(t[1],M("paths_reduced-e10.json",{})),i=Object(v.a)(c,2),l=i[0],u=l.data,s=l.isLoading,d=l.isError;i[1];return[{nodes:{list:A(Object.values(n)),obj:n},paths:{obj:u}},r||s,o||d]},F=function(e){var t=e.initialTime,a=void 0===t?0:t,r=e.interval,o=void 0===r?2e3:r,c=e.step,i=void 0===c?1:c,l=e.timerType,u=void 0===l?"INCREMENTAL":l,s=e.endTime,d=e.onTimeOver,m=Object(n.useState)(a),p=Object(v.a)(m,2),f=p[0],b=p[1],h=Object(n.useState)(!1),g=Object(v.a)(h,2),y=g[0],j=g[1],E=Object(n.useState)(!1),O=Object(v.a)(E,2),w=O[0],x=O[1],k=Object(n.useCallback)((function(e){j(!1),x(!1),b(e||a)}),[a]),C=Object(n.useCallback)((function(){w&&k(),j(!0)}),[k,w]),S=Object(n.useCallback)((function(){j(!1)}),[]);return Object(n.useEffect)((function(){y&&f===s&&(j(!1),x(!0),"function"===typeof d&&d())}),[s,d,f,y]),Object(n.useEffect)((function(){var e=null;return y?e=setInterval((function(){b((function(e){return"DECREMENTAL"===u?e-i:e+i}))}),o):e&&clearInterval(e),function(){e&&clearInterval(e)}}),[y,i,u,o]),{isRunning:y,pause:S,reset:k,start:C,time:f}},I=Object(p.a)((function(e){return{overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vw",paddingTop:"25%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",flexDirection:"column",alignItems:"center",color:"white"}}})),L={dragmode:"zoom",mapbox:{style:"open-street-map",center:{lat:51.11,lon:17.03},margin:{r:0,t:0,b:0,l:0},zoom:11},autosize:!0,showlegend:!1,updatemenus:[{buttons:[{method:"update",args:["play"],label:"Play"},{method:"update",args:["pause"],label:"Pause"}],name:"action",direction:"left",pad:{t:10},showactive:!0,type:"buttons",x:0,xanchor:"left",y:1.1,yanchor:"top"},{buttons:[{args:[3,31],label:"March",method:"update"},{args:[4,30],label:"April",method:"update"},{args:[5,31],label:"May",method:"update"},{args:[6,30],label:"June",method:"update"},{args:[7,31],label:"July",method:"update"},{args:[8,31],label:"August",method:"update"},{args:[9,30],label:"September",method:"update"},{args:[10,31],label:"October",method:"update"},{args:[11,30],label:"November",method:"update"},{args:[12,31],label:"December",method:"update"}],name:"month",direction:"down",pad:{t:10},showactive:!0,type:"dropdown",x:0,xanchor:"left",y:1.15,yanchor:"top",active:0,font:{color:"#5072a8"}}],sliders:[{pad:{t:5,b:10},x:.15,y:1.11,len:.85,currentvalue:{visible:!0,xanchor:"right",prefix:"Hour: ",font:{color:"#888",size:20}},active:0,name:"Hour",steps:Array(96).fill(0).map((function(e,t){return{label:"".concat(Math.floor(15*t/60),":").concat(15*t%60===0?"00":15*t%60),args:[t],method:"update"}}))}]},N=function(){var e=I(),t=Object(n.useState)([]),a=Object(v.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(0),l=Object(v.a)(i,2),u=l[0],s=l[1],d=Object(n.useState)(1),m=Object(v.a)(d,2),p=m[0],f=m[1],b=Object(n.useState)({num:7,days:31}),h=Object(v.a)(b,2),j=h[0],O=h[1],w=H(),x=Object(v.a)(w,3),k=x[0],C=k.nodes,S=k.paths,T=x[1],A=(x[2],M("07.json",{})),N=Object(v.a)(A,2),R=N[0],z=R.data,_=R.isLoading,D=(N[1],Array(31).fill(1).reduce((function(e,t,a){return e[a+1]=Array(96).fill(0).reduce((function(e,t,a){return e[15*a]=Array(Math.floor(15*Math.random())+1).fill(1).map((function(e,t){var a=Math.floor(202*Math.random()),n=Math.floor(204*Math.random());return{o:a,d:a===n?n+1:n,c:Math.floor(30*Math.random())+1}})),e[15*a].sort((function(e,t){return t.c-e.c})),e}),{}),e}),{}),F({endTime:96,initialTime:u})),W=D.time,B=D.start,J=D.pause,U=D.reset;D.isRunning;L.sliders[0].active=W,L.sliders[1]={pad:{t:5,b:10},x:.15,y:1.22,len:.85,currentvalue:{visible:!0,xanchor:"right",prefix:"Day: ",font:{color:"#888",size:12}},active:p-1,name:"Day",steps:Array(j.days).fill(0).map((function(e,t){return{label:t+1,args:[t+1],method:"update"}}))},Object(n.useEffect)((function(){null!=z&&null!=z[1]?c(Array(96).fill(0).map((function(e,t){return[].concat(Object(g.a)(C.list),Object(g.a)(z[p][15*t].map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e["".concat(a.o,"-").concat(a.d)];return{type:"scattermapbox",lat:null==n?[]:n.lng,lon:null==n?[]:n.lat,mode:"lines",line:{width:2*a.c,color:"red"},id:null==n?[]:n.id,text:null==n?"unknown":'"'.concat(t[a.o].name,'" do "').concat(t[a.d].name,'" rowery: ').concat(a.c)}}}(S.obj,C.obj)).slice(0,50)))}))):c(Array(96).fill(0).map((function(e,t){return Object(g.a)(C.list)})))}),[T,_,p]);var P=o[W]||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{data:P,layout:L,frames:Array(o.length).fill(0).map((function(e,t){return{name:t}})),onButtonClicked:function(e){var t=e.menu.name,a=e.button.args;if("month"===t)s(0),U(0),O({num:a[0],days:a[1]}),f(1);else switch(a[0]){case"play":B();break;case"pause":J();break;default:console.log(a[0])}},onSliderChange:function(e){var t=e.slider.name,a=e.step.args;"Hour"===t&&(s(a[0]),U(a[0])),"Day"===t&&(f(a[0]),s(0),U(0))},useResizeHandler:!0,style:{width:"100%",minHeight:"calc(100vh - 70px)"}}),T&&r.a.createElement("div",{className:e.overlay},r.a.createElement(y.a,{color:"secondary",size:80,thickness:4}),r.a.createElement("h1",null,"Network data is loading... Please wait :)")))};a(72);var R=function(){return r.a.createElement(h,null,r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.1ecefed9.chunk.js.map